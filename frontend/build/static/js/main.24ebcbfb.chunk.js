(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{165:function(t,e,s){"use strict";s.r(e);var n=s(2),c=s(5),a=s.n(c),r=s(29),i=s.n(r),o=(s(79),s(6)),l=s.n(o),u=s(10),j=s(7);s(81);function d(t){return Object(n.jsx)("button",{className:"basicButton",onClick:function(){return t.onClick()},children:t.value})}function p(t){return Object(n.jsx)("div",{className:"addButton",children:Object(n.jsx)(d,{className:"addButton",value:"taskForm"===t.appState?"Close":"Add task",onClick:function(){"tasks"===t.appState?t.setAppState("taskForm"):t.setAppState("tasks")}})})}function b(t){var e=Object(c.useState)(0),s=Object(j.a)(e,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){console.log(a)})),Object(n.jsx)("div",{className:"searchBar",children:Object(n.jsx)("input",{id:"searchInput",type:"text",placeholder:"Search",value:t.value,onChange:function(t){return r(t.target.value)}})})}var h=s(12);function O(t){var e=Object(c.useState)(""),s=Object(j.a)(e,2),a=s[0],r=s[1],i=function(){var e=Object(u.a)(l.a.mark((function e(s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),""===a){e.next=6;break}return e.next=4,h.post("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/lists?apikey=".concat("879787"),{list_name:a}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 4:r(""),t.reFetchLists();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:i,className:"createlist",children:[Object(n.jsx)("input",{className:"basicButton",type:"submit",value:"Add list"}),Object(n.jsx)("input",{className:"listInput",type:"text",name:"list",placeholder:"List name",value:a,onChange:function(t){return r(t.target.value)}})]})})}var x=s(20);function f(t){return Object(n.jsxs)("select",{className:"".concat(t.selectClass),onChange:t.onChange,children:[Object(n.jsx)("option",{value:t.list.id,children:t.list.list_name}),"no list"===t.list.list_name?"":Object(n.jsx)("option",{value:JSON.stringify({id:"",list_name:"no list"}),children:"no list"}),t.lists.map((function(e){return t.list.id!==e.id?Object(n.jsx)("option",{value:JSON.stringify(e),children:e.list_name}):""}))]})}var m=s(12);function v(t){var e=Object(c.useRef)(null),s=function(t,e){var s=Object(c.useState)(e),n=Object(j.a)(s,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var e=function(e){null===t.current||t.current.contains(e.target)||r(!a)};return a&&window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[a,t]),[a,r]}(e,!1),a=Object(j.a)(s,2),r=a[0],i=a[1],o=function(){var e=Object(u.a)(l.a.mark((function e(s,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setSort(n);case 2:return console.log("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=879787&sort="+s+n+"&list="+c.id),e.next=5,m.get("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=879787&sort="+s+n+"&list="+c.id);case 5:a=e.sent,t.setData(a.data),console.log(a.data);case 8:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(l.a.mark((function e(s){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(s.target.value);case 2:n=e.sent,t.setList(n),o(t.sortDirection,t.sort,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"menu-container",children:[Object(n.jsx)("button",{onClick:function(){return i(!r)},className:"sortButton",children:Object(n.jsx)("img",{src:"https://cdn2.iconfinder.com/data/icons/user-interface-179/100/IF_Creator_Icon_05-16-512.png",alt:"adjust sort"})}),Object(n.jsx)("nav",{ref:e,className:"menu ".concat(r?"active":"inactive"),children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{className:"sortItem",children:[Object(n.jsx)(f,{selectClass:"listSelect",list:t.list,lists:t.lists,onChange:function(t){return d(t)}}),Object(n.jsx)("button",{className:"textButton sortDirectionButton",onClick:function(){var e="+"===t.sortDirection?"-":"+";console.log(e),t.setSortDirection(e),o(e,t.sort,t.list)},children:"+"===t.sortDirection?Object(n.jsx)(x.b,{}):Object(n.jsx)(x.a,{})})]}),Object(n.jsx)("li",{className:"sortItem",children:Object(n.jsx)("button",{className:"textButton sortTypeButton ".concat(t.sort.includes("name")?"selected":""),onClick:function(){o(t.sortDirection,"name",t.list)},children:"name"})}),Object(n.jsx)("li",{className:"sortItem",children:Object(n.jsx)("button",{className:"textButton sortTypeButton ".concat(t.sort.includes("deadline")?"selected":""),onClick:function(){o(t.sortDirection,"deadline",t.list)},children:"deadline"})}),Object(n.jsx)("li",{className:"sortItem",children:Object(n.jsx)("button",{className:"textButton sortTypeButton ".concat(t.sort.includes("priority")?"selected":""),onClick:function(){o(t.sortDirection,"priority",t.list)},children:"priority"})})]})})]})}function k(t){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"sortedBy",children:[Object(n.jsxs)("div",{children:["List: ",t.list.list_name]}),Object(n.jsxs)("div",{children:["Sorted by: ",t.sort,"  ","+"===t.sortDirection?Object(n.jsx)(x.b,{}):Object(n.jsx)(x.a,{})]})]})})}var g=s(12),y=s.n(g),S=s(70);function C(t){var e=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks/"+t.task.id+"?apikey=879787");case 2:return e.next=4,t.reFetchTasks();case 4:t.setRemoveState(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"removeConfirmation",children:[Object(n.jsx)("p",{children:"Are you sure?"}),Object(n.jsxs)("div",{class:"syle-taskRemoveButtons",children:[Object(n.jsx)("button",{className:"deleteButton",onClick:e,children:Object(n.jsx)(x.c,{size:32})}),Object(n.jsx)("button",{className:"deleteButton",onClick:function(){t.setRemoveState(!1)},children:Object(n.jsx)(x.d,{size:32})})]})]})}function N(t){var e=Object(c.useState)(!1),s=Object(j.a)(e,2),a=s[0],r=s[1];return Object(n.jsxs)("div",{className:"deleteTask",children:[Object(n.jsx)("button",{className:"deleteButton",onClick:function(){r(!1===a)},children:Object(n.jsx)(S.a,{size:32})}),!0===a?Object(n.jsx)(C,{reFetchTasks:t.reFetchTasks,task:t.task,setRemoveState:r}):""]})}var w=s(52),D=s(12),F=function(t){var e=new Date(t),s=e.toUTCString().split(" ")[0];return e.getUTCHours()+":"+e.getMinutes()+" "+s+" "+e.getDate()+"."+(e.getMonth()+1)+" "+e.getFullYear()};function B(t){var e=function(){var e=Object(u.a)(l.a.mark((function e(s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks/check/".concat(s,"?apikey=").concat("879787")).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 2:return e.next=4,t.reFetchTasks();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsx)("div",{class:"center",children:t.data.map((function(s){return Object(n.jsx)("div",{class:"list-itembase",children:Object(n.jsxs)("button",{class:"menu-trigger task",children:[Object(n.jsx)("div",{children:s.name}),Object(n.jsx)("div",{children:F(s.deadline)}),Object(n.jsx)("div",{children:s.description}),Object(n.jsxs)("div",{children:["priority: ",s.priority]}),Object(n.jsxs)("div",{class:"syle-task-buttons",children:[Object(n.jsx)("button",{style:{maxHeight:"40px",maxWidth:"48px"},onClick:(c=s.id,function(){e(c)}),children:s.is_done?Object(n.jsx)(w.b,{size:32}):Object(n.jsx)(w.a,{size:32})}),Object(n.jsx)(N,{reFetchTasks:t.reFetchTasks,task:s})]})]})});var c}))})})}s(98);var T=s(44),L=s.n(T),z=(s(99),s(73));function _(t){return Object(n.jsxs)("select",{className:"forminput",onChange:t.onChange,children:[Object(n.jsx)("option",{value:"1",children:"Priority 1 (Very important)"}),Object(n.jsx)("option",{value:"2",children:"Priority 2"}),Object(n.jsx)("option",{value:"3",children:"Priority 3"}),Object(n.jsx)("option",{value:"4",children:"Priority 4"}),Object(n.jsx)("option",{value:"5",children:"Priority 5 (Not that important)"})]})}var I=s(12);function P(t){var e=Object(c.useState)(""),s=Object(j.a)(e,2),a=s[0],r=s[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),d=o[0],p=o[1],b=Object(c.useState)(new Date),h=Object(j.a)(b,2),O=h[0],x=h[1],m=Object(c.useState)("1"),v=Object(j.a)(m,2),k=v[0],g=v[1],y=Object(c.useState)(t.list),S=Object(j.a)(y,2),C=S[0],N=S[1],w=function(){var e=Object(u.a)(l.a.mark((function e(s){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),n=""===C.id?null:C.id,""===a){e.next=5;break}return e.next=5,I.post("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=".concat("879787"),{user_id:1,name:a,description:d,priority:k,deadline:O.toISOString(),list_id:n}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}));case 5:return e.next=7,t.reFetchTasks();case 7:return e.next=9,t.setAppState("tasks");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("form",{class:"taskform",onSubmit:w,children:Object(n.jsxs)("table",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Task name:"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"forminput",type:"text",name:"name",onChange:function(t){return r(t.target.value)}})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Deadline:"})}),Object(n.jsx)("td",{children:Object(n.jsx)(L.a,{className:"forminput",selected:O,onChange:function(t){return x(t)},locale:z.a,timeFormat:"p",dateFormat:"Pp",showTimeInput:!0})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Desc:"})}),Object(n.jsx)("td",{children:Object(n.jsx)("textarea",{rows:"4",cols:"22",type:"text",name:"desc",onChange:function(t){return p(t.target.value)}})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Priority:"})}),Object(n.jsx)("td",{children:Object(n.jsx)(_,{onChange:function(t){return g(t.target.value)}})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("label",{children:"List:"}),Object(n.jsx)("td",{children:Object(n.jsx)(f,{onChange:function(t){return N(JSON.parse(t.target.value))},list:t.list,lists:t.lists,setLists:t.setLists,selectClass:"forminput"})})]}),Object(n.jsx)("input",{className:"basicButton",type:"submit",value:"Save"})]})})}s(162).config();var A=function(){var t=Object(c.useState)([]),e=Object(j.a)(t,2),s=e[0],a=e[1],r=Object(c.useState)([]),i=Object(j.a)(r,2),o=i[0],d=i[1],h=Object(c.useState)("deadline"),x=Object(j.a)(h,2),f=x[0],m=x[1],g=Object(c.useState)("+"),S=Object(j.a)(g,2),C=S[0],N=S[1],w=Object(c.useState)({id:"",list_name:"no list"}),D=Object(j.a)(w,2),F=D[0],T=D[1],L=Object(c.useState)("tasks"),z=Object(j.a)(L,2),_=z[0],I=z[1];Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(l.a.mark((function t(){var e,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=879787&sort="+C+f+"&list="+F.id),t.next=3,y.a.get("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=879787&sort="+C+f+"&list="+F.id);case 3:return e=t.sent,a(e.data),t.next=7,y.a.get("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/lists?apikey=879787");case 7:s=t.sent,d(s.data);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var A=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/tasks?apikey=879787&sort="+C+f+"&list="+F.id);case 2:e=t.sent,a(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("https://tamk-4a00ez62-3001-group07.herokuapp.com/api/lists?apikey=879787");case 2:e=t.sent,d(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{class:"syle-body",children:[Object(n.jsxs)("div",{class:"syle-topbar",children:[Object(n.jsx)(k,{list:F,sort:f,sortDirection:C}),Object(n.jsxs)("div",{class:"syle-search-sort",children:[Object(n.jsx)(b,{}),Object(n.jsx)(v,{reFetchTasks:A,reFetchLists:E,list:F,setList:T,lists:o,sort:f,setSort:m,setData:a,sortDirection:C,setSortDirection:N})]})]}),Object(n.jsxs)("div",{class:"syle-listbody",children:[Object(n.jsx)("div",{class:"syle-list",children:"taskForm"===_?Object(n.jsx)(P,{reFetchTasks:A,list:F,setAppState:I,lists:o,setLists:d,setList:T,sortDirection:C,setSortDirection:N,setData:a,sort:f}):Object(n.jsx)(B,{reFetchTasks:A,data:s})}),Object(n.jsxs)("div",{class:"syle-footer",children:[Object(n.jsx)(p,{list:F,lists:o,setLists:d,sortDirection:C,setSortDirection:N,setData:a,sort:f,appState:_,setAppState:I}),Object(n.jsx)(O,{reFetchLists:E})]})]})]})},E=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,170)).then((function(e){var s=e.getCLS,n=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;s(t),n(t),c(t),a(t),r(t)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),E()},79:function(t,e,s){},81:function(t,e,s){},98:function(t,e,s){}},[[165,1,2]]]);
//# sourceMappingURL=main.24ebcbfb.chunk.js.map